<!DOCTYPE html>
<html>
<!---------------------------------------------------------------------
Author:         Galen Shirey
Major:          CS:SD
Creation Date:  February 1, 2020
Due Date:       February 4, 2020
Course:         CSC 342 - Web Technologies
Assignment:     HW1-2          
Filename:       Shirey-hw1-2.html
How to open:    Just open the file with your favorite internet browser
Purpose:        HTML Page that includes CSS and Javasciprt to calculate
                Total Price, including tax and tip given by the user.
                Default tax: 10%
                Deafult tip: 5%
----------------------------------------------------------------------->

<title>Shirey-HW1-2</title>

<body>

    <h3 style="color:rgb(15, 20, 26);">Calculate Total Price Including Tip</h3>

    <!-- Creation of forms for users to input values and each is given a name to reference in javascript code-->
    <p style="color:tomato">
        Total: <input id="totalAmount" type="text" placeholder="Total Amount">
        <p style="color: steelblue;">
            Tax: <input id="taxAmount" type="text" placeholder="Tax Amount (Default: 0.1)">
            <p style="color: steelblue;">
                Tip: <input id="tipAmount" type="text" placeholder="Tip Amount (Default: 0.05)">
                <p>
                    <!--Button reference in javascript code to calculate total-->
                    <button type="button" id="findTotal">Calculate Total</button>

                    <!--Final output - Updated after button click-->
                    <div id="totalFinal">
                        <span id="tPrice">Total Price: </span>
                        <sup<>$</sup><span id="output">0.00</span>
                    </div>

                    <!--END HTML-->
                    <!--START Javascript-->
                    <script>

                        //------------------------------------------------------------------------------------------------------
                        //  Function: calculateTotal()
                        //  Uses destructing to allow variables not entered to default to specified value
                        //  and calculates total bill in variable : totalFinal
                        //------------------------------------------------------------------------------------------------------
                        function calculateTotal({ totalAmount = 0, taxAmount = 0.1, tipAmount = 0.05 } = {}) {

                            totalAmount = document.getElementById("totalAmount").value;

                            //If user enters a value -> use it (Otherwise it uses default)
                            if (document.getElementById("taxAmount").value != "") {
                                taxAmount = document.getElementById("taxAmount").value;
                            }

                            //If user enters a value -> use it (Otherwise it uses default)
                            if (document.getElementById("tipAmount").value != "") {
                                tipAmount = document.getElementById("tipAmount").value;
                            }

                            //User must enter at last initial total.
                            if (totalAmount === "") {
                                alert("Please Enter Values ( At least in Total )");
                                return;
                            }
                            //END FUNCTION

                            //Calculate final total after tax and tip are added and display
                            let totalFinal = Number(totalAmount) + (Number(totalAmount) * Number(taxAmount)) + (Number(totalAmount) * Number(tipAmount))
                            let num = totalFinal.toFixed(2);
                            totalFinal = num;
                            document.getElementById("totalFinal").style.display = "block";
                            document.getElementById("output").innerHTML = totalFinal;
                        }

                        // Call calculateTotal function when button findTotal is clicked
                        document.getElementById("findTotal").onclick = function () {
                            calculateTotal();
                        }

                    </script>
                    <!--END JAVASCRIPT-->

</body>

</html>